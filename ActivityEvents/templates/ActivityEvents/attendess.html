{% extends "ActivityEvents/layout.html" %}
{% load static %}
{% block body %}
<style>
     table, th, td {
  border:1px solid black;
  padding: 1rem;
}

  </style>

<section class="h-full w-full flex flex-col items-center justify-center  mb-[1rem] mt-[1rem]">

        <div class="xl:h-[50rem] lg:h-[30rem] md:h-[29rem] xl:w-[75rem] lg:w-[58rem] md:w-[40rem] flex flex-col items-center   mb-[4rem] mt-[1rem] border-[0.1rem] border-[#E8F5FF]">
           <div class="w-full h-full flex flex-row justify-center items-center">
             <div class="w-[20rem] h-[25rem] mt-[0.9rem] ml-[20rem] bg-white drop-shadow-lg rounded-lg flex flex-col items-center">
                 <h1 class="mt-[0.2rem] text-[1.2rem]">{{attendessdetails.Username}}</h1>
             </div>
             <img class="w-[20rem] h-[20rem] z-10 ml-[5rem]  " src="{% static 'ActivityEvents/Confirmedattendancepana.png' %}" alt="">
           </div>
            <div class="w-[71rem] h-[25rem] bg-[#F8FCFF] drop-shadow-xl shadow-xl  mt-[2rem] p-[1rem] rounded-[2rem] overflow-y-auto overflow-x-hidden">
<div class="w-full h-[5rem] flex flex-row justify-center items-center">
                    <div class="inputdivparent" >
                        <input onkeyup="myFunction()" id="myInput" name="usernameinputQA" class="inputsclass" type="text" required>
                        <label class="placeholderlabel bg-[#F8FCFF] text-[1.2rem]"   for="Search for names..">Username</label>
                    </div>
                    <h1>{{RegistrationCount}}</h1>
</div>
                <table id="attendesstable" class="w-full h-full ">
                    <thead>
                        <tr> 
                            <th>ID</th>
                            <th>Name</th>
                            <th>Location</th>
                            <th>Date of Birthday</th>
                            <th>Event</th>
                            <th>Details</th>
                        </tr>
                    </thead>


                    <tbody>
                        {% for userregister in eventregister %}

                        <tr class="mt-[2.5rem] mb-[2.5rem]">
                            <td class="text-center mt-[2.5rem] ">{{userregister.id}}</td>
                            <td class="text-center">{{userregister.Username}}</td>
                            <td class="text-center">{{userregister.Location}}</td>
                            <td class="text-center">{{userregister.date_of_birth}}</td>
                            <td class="text-center">{{userregister.event}}</td>
                            <td class="text-center"><button class="w-[7.7rem] mt-[0.3rem] h-[2.4rem] text-[1rem] text-white bg-[#71B3F1] rounded-[4rem] font-semibold hover:text-[#50A8F5] hover:bg-white"><a href="{% url 'attendessDetails' userregister.id %}">Details</a></button></td>
                        </tr>
                        {% endfor %}

                    </tbody>
                    
                
                </table>
            </div>
        </div>
        <script>
            function myFunction() {
              var input, filter, table, tr, td, i, txtValue;
              input = document.getElementById('myInput');
              filter = input.value.toUpperCase();
              table = document.getElementById("attendesstable");
              tr = table.getElementsByTagName('tr');
            
              // Loop through all list items, and hide those who don't match the search query
              for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[1];
                if(td){
                    txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                  tr[i].style.display = "";
                } else {
                  tr[i].style.display = "none";
                }

                }

              }
            }
            </script>
</section>

{% endblock %}